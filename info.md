# CMS на базе Laravel

## Настройка окружения и установка Laravel

Нужно установить XAMPP с поддержкой PHP 7, Git, Composer. Если не ставиться Composer качаем *.phar* архив и пользуемся через консольный PHP.

Переходим в папку *htdocs* XAMPP, запускаем терминал и устанавливаем Laravel с помощью Composer:

```php
composer create-project laravel/laravel sitename.loc
```

Вам нужно только изменить название папки, в моём же случае название папки совпадает с названием желаемого хоста или локального доменного имени.

Чтобы запустить приложения нам нужно ввести в адресную строку примерно такой адрес:

```
http://localhost/sitename.loc/public/
```

Чтобы поправить это, нужно изменить файл хостов Apache, который в случае с XAMPP находится *apache/conf/extra/httpd-vhosts.conf* - нам нужно указать путь к файлам сайта и название домена:

*apache/conf/extra/httpd-vhosts.conf*

```
<VirtualHost *:80>
    DocumentRoot "D:/Sandbox/htdocs/sitename.loc/public"
    ServerName sitename.loc
</VirtualHost>
```

Также нужно поправить файл хостов:

*c:/Windows/System32/drivers/etc/hosts*

```
127.0.0.1  sitename.loc
```

Чтобы сохранить этот файл нужно открывать его с правами администратора.

Перезапускаем Apache и обращаеся к сайту уже по более короткому адресу:

```
sitename.loc
```

Посмотрим на файловую структуру:

* *app/* - содержит модели, по умолчанию мы имеет только одну модель *Users.php*. Если у вас планируется много моделей, то можно создать подпапку *Models*
* *app/Http/Controllers/* - контроллеры приложения. По умолчанию у нас есть дефолтный котроллер и папка *Auth*, которая содержит контроллеры, которые отвечают за авторизацию и регистрацию пользователей.
* *resources/views/* - содержит все виды приложения. Как правило используется шаблонизатор Blade
* *routes/web.php* - файл с роутами
* *.env* - файл конфигурации, например название проекта, параметры подключения к БД и т. д.